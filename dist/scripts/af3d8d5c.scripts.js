"use strict";function colorToHex(a){if("#"===a.substr(0,1))return a;var b=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(a),c=parseInt(b[2]),d=parseInt(b[3]),e=parseInt(b[4]),f=e|d<<8|c<<16;return b[1]+"#"+f.toString(16)}angular.module("proGridApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("proGridApp").controller("MainCtrl",["$scope","Randomcolor",function(a,b){var c=io.connect(),d=b.new(),e=1,f=function(a,b,c){var d=".col_"+a+"_"+b,e=document.querySelector(d);e.style.backgroundColor=e.style.backgroundColor?"":c};c.on("server ready",function(a){console.log("Hello There! Hope you are enjoying the app. Please be nice! Please help us fix our issues over at: https://github.com/pro-grid/pro-grid Thank you. -progrid.io"),a.gridArray.forEach(function(a){a.forEach(function(a){f(a.row,a.col,a.color)})})}),c.on("fresh api key",function(a){e=a.apiKey}),c.on("update",function(a){f(a.row,a.col,a.color)}),c.on("connect",function(){a.message=!1}),c.on("disconnect",function(){a.message={title:"Disconnected",body:"You have been disconnected. Feel free to refresh the page if this message doesnâ€™t go away."},console.log("goodbye")}),a.dimensions=32,a.generateGrid=function(a){return new Array(a)},a.gridClicked=function(a,b){f(a,b,d),c.emit("clicked",{row:a,col:b,color:d,apiKey:e})},a.gridRightClicked=function(a,b){var c=".col_"+a+"_"+b,e=document.querySelector(c);d=colorToHex(e.style.backgroundColor)},a.closeMessage=function(){a.message=!1},a.gridClicked=_.throttle(a.gridClicked,100,{trailing:!1})}]),angular.module("proGridApp").directive("ngRightClick",["$parse",function(a){return function(b,c,d){var e=a(d.ngRightClick);c.bind("contextmenu",function(a){b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]),angular.module("proGridApp").factory("Randomcolor",function(){return{"new":function(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b}}});